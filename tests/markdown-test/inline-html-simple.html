<p>Here's a simple block:</p>
<p><div>
    foo
</div></p>
<p>This should be a code block, though:</p>
<pre>
<code>&lt;div&gt;
    foo
&lt;/div&gt;
</code>
</pre>
<p>As should this:</p>
<pre>
<code>&lt;div&gt;foo&lt;/div&gt;
</code>
</pre>
<p>Now, nested:</p>
<p><div>
    <div>
        <div>
            foo
        </div>
    </div>
</div></p>
<p>This should just be an HTML comment:</p>
<p><!-- Comment --></p>
<p>Multiline:</p>
<p><!--
Blah
Blah
--></p>
<p>Code block:</p>
<pre>
<code>&lt;!-- Comment --&gt;
</code>
</pre>
<p>Just plain comment, with trailing spaces on the line:</p>
<p><!-- foo --></p>
<p>Code:</p>
<pre>
<code>&lt;hr /&gt;
</code>
</pre>
<p>Hr's:</p>
<p><hr></p>
<p><hr/></p>
<p><hr /></p>
<p><hr></p>
<p><hr/></p>
<p><hr /></p>
<p><hr class="foo" id="bar" /></p>
<p><hr class="foo" id="bar"/></p>
<p><hr class="foo" id="bar" ></p>